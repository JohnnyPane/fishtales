(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{162:function(e,t,a){},164:function(e,t,a){},328:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),c=a.n(s),i=(a(162),a(9)),l=a.n(i),o=a(14),u=a(16),p=a(17),b=a(11),d=(a(164),a(18)),j=a(34),h=a.n(j),f={login:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m="/api/user",O={signup:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(m,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchUser:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/user/"+t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUser:function(e,t){return h.a.put("".concat(m,"/").concat(e),t).then((function(e){return e.data}))}},x="/api/fish",g=null,v={getAll:function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(x);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:g}},e.next=3,h.a.post(x,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(e,t){return h.a.put("".concat(x,"/").concat(e),t).then((function(e){return e.data}))},setToken:function(e){g="bearer ".concat(e)},getUsersFish:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(x,"/user/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=a(372),w=a(373),S=a(374),N=a(375),C=a(369),k=a(90),T=a(382),A=a(370),E=a(2),F=Object(C.a)((function(e){return{root:{maxWidth:500,boxShadow:"rgb(0 0 0 / 5%) 0px 3px 15px 0px",margin:"20px 0",width:320},media:{height:0,paddingTop:"100%"},small:{width:e.spacing(4),height:e.spacing(4)},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"red"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},control:{padding:e.spacing(2)}}})),U=function(e){var t=e.fish,a=e.user,n=F();return Object(E.jsx)(A.a,{item:!0,xs:4,children:Object(E.jsxs)(y.a,{className:n.paper,my:20,children:[a?null:Object(E.jsx)(w.a,{title:a?a.username:t.user.username,subheader:t.species,avatar:Object(E.jsx)(T.a,{alt:a?a.username:t.user.username,src:a&&a.image?a.image:t.user.image?t.user.image:null})}),Object(E.jsx)(S.a,{className:n.media,image:t.image?t.image:"https://images.unsplash.com/photo-1485452499676-62ab02c20e83?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",title:t.species}),Object(E.jsxs)(N.a,{children:[Object(E.jsx)(k.a,{variant:"body2",color:"textPrimary",component:"p",children:Object(E.jsx)("div",{className:"fish-card-header-wrapper",children:Object(E.jsxs)("div",{className:"card-user-header",children:[Object(E.jsx)("div",{children:a?a.username:t.user.username}),Object(E.jsx)("div",{className:"card-header-subtext",children:t.date.slice(0,10).split("-").reverse().join("-")})]})})}),Object(E.jsx)(k.a,{variant:"body2",color:"textSecondary",component:"p"})]})]})})},P=a(30),D=a(376),I=function(e){var t=e.handleSubmit,a=e.handleUsernameChange,n=e.handlePasswordChange,r=e.username,s=e.password;return Object(E.jsx)(D.a,{className:"credential-box",maxWidth:"500px",px:"50px",children:Object(E.jsxs)("form",{onSubmit:t,children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"credenitial-label",children:"username"}),Object(E.jsx)("input",{type:"text",value:r,name:"Username",onChange:a,placeholder:"e.g. JackSparrow",className:"credential-input"})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"credenitial-label",children:"password"}),Object(E.jsx)("input",{type:"password",value:s,name:"Password",onChange:n,placeholder:"******",className:"credential-input"})]}),Object(E.jsxs)("div",{className:"credential-button-wrapper",children:[Object(E.jsx)("button",{type:"submit",className:"submit-credential-button",children:"login"}),Object(E.jsx)(P.b,{to:"/signup",className:"credential-reroute",children:"Create An Account"})]})]})})},R=function(e){var t=e.handleSubmit,a=e.handleUsernameChange,n=e.handlePasswordChange,r=e.handleEmailChange,s=e.username,c=e.password,i=e.email;return Object(E.jsx)(D.a,{className:"credential-box",maxWidth:"500px",px:"50px",children:Object(E.jsxs)("form",{onSubmit:t,children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"credenitial-label",children:"username"}),Object(E.jsx)("input",{type:"text",value:s,name:"Username",onChange:a,placeholder:"e.g. JackSparrow",className:"credential-input"})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"credenitial-label",children:"email"}),Object(E.jsx)("input",{type:"email",value:i,name:"Email",onChange:r,placeholder:"pirate@theBlackPearl.com",className:"credential-input"})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"credenitial-label",children:"password"}),Object(E.jsx)("input",{type:"password",value:c,name:"Password",onChange:n,placeholder:"*******",className:"credential-input"})]}),Object(E.jsxs)("div",{className:"credential-button-wrapper",children:[Object(E.jsx)("button",{type:"submit",className:"submit-credential-button",children:"sign up"}),Object(E.jsx)(P.b,{to:"/",className:"credential-reroute",children:"Already Have An Account?"})]})]})})},_=a(20),H=a(379),L=a(148),B=a.n(L);a(218).config();var M={bucketName:"fishtales",region:"us-east-2",accessKeyId:"AKIAY2X3TVTPR4VJKKGS",secretAccessKey:"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"};function W(e){return K.apply(this,arguments)}function K(){return(K=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(M,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AWS_ACCESS_KEY_ID:"AKIAY2X3TVTPR4VJKKGS",REACT_APP_AWS_SECRET_ACCESS_KEY:"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"}),"CONFIG"),e.next=3,B.a.uploadFile(t,M);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=Object(C.a)((function(e){return{root:{flexGrow:1,width:"80%"},large:{width:e.spacing(13),height:e.spacing(13),marginLeft:"20px"},box:{width:"80%",alignSelf:"center",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",borderBottom:"1px solid rgb(219,219,219)",paddingBottom:"30px"}}})),J=function(e){var t=e.user,a=e.fish,r=Object(n.useState)([]),s=Object(b.a)(r,2),c=s[0],i=s[1],u=Object(n.useRef)(null),j=Object(d.g)().id;Object(n.useEffect)((function(){t?i(t):O.fetchUser(j).then((function(e){console.log(e,"HERE WITH USER"),i(e)}))}),[]);var h=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,W(t);case 3:a=e.sent,n=a.location.toString(),i((function(e){return Object(p.a)(Object(p.a)({},e),{},{image:n})})),O.updateUser(c.id,{image:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=Object(_.a)(new Set(a.map((function(e){return e.species})))),m=G();return Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(E.jsxs)(H.a,{className:m.box,children:[Object(E.jsx)(T.a,{style:{cursor:"pointer"},className:m.large,alt:c.username,src:c.image,onClick:function(){return u.current.click()}}),Object(E.jsx)("input",{type:"file",id:"file",ref:u,style:{display:"none"},onChange:function(e){return h(e.target.files[0])}}),Object(E.jsxs)("div",{className:"user-home-info",children:[Object(E.jsx)("div",{className:"user-home-header",children:c.username}),Object(E.jsxs)("div",{className:"user-subheader-wrapper",children:[Object(E.jsxs)("div",{className:"user-subheader",children:[a.length," ",Object(E.jsx)("span",{className:"user-subheader-stats",children:"caught"})]}),Object(E.jsxs)("div",{className:"user-subheader",children:[f.length," ",Object(E.jsx)("span",{className:"user-subheader-stats",children:"species"})]})]})]})]}),Object(E.jsx)("div",{className:"user-fish-wrapper",children:Object(E.jsx)(A.a,{container:!0,spacing:1,style:{width:"80%"},children:a.map((function(e){return Object(E.jsx)(U,{fish:e,user:c},e.id)}))})})]})},V=a(60),Y=a(384),q=a(377),z=a(387),Q=Object(C.a)((function(e){return{root:{width:"100%",alignItems:"center",justifyContent:"space-evenly"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"100%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})),X=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],Z=[0,2,4,6,8,10,12,14,16,18,20,22],$=function(e){var t=e.fish,a=Object(n.useState)(""),s=Object(b.a)(a,2),c=s[0],i=s[1],u=Object(n.useState)({}),d=Object(b.a)(u,2),j=(d[0],d[1],Object(n.useState)({})),h=Object(b.a)(j,2),f=(h[0],h[1],Q()),m=r.a.useState(!1),O=Object(b.a)(m,2),x=O[0],g=O[1],v=Object(n.useState)({}),y=Object(b.a)(v,2),w=y[0],S=y[1],N=Object(n.useState)({}),C=Object(b.a)(N,2),T=C[0],A=C[1],F=Object(n.useState)({}),U=Object(b.a)(F,2),P=U[0],D=U[1],I=Object(n.useState)(0),R=Object(b.a)(I,2),H=R[0],L=R[1],B=Object(n.useState)(0),M=Object(b.a)(B,2),W=M[0],K=M[1];Object(n.useEffect)((function(){var e={},a={},n={},r=[],s=[];Object(_.a)(new Set(t.map((function(e){return e.baitType})))).map((function(t){return e[t]=[]})),X.map((function(e){return a[e]=[]})),Z.map((function(e){return n[e]=[]})),t.map((function(t,c){0===c&&i(t.species),e[t.baitType]=e[t.baitType].concat(t);var l=parseInt(t.date.split("-")[1]-1);a[X[l]]=a[X[l]].concat(t);var o=parseInt(t.date.split("T")[1].split(":")[0]);o=o%2===0?o:2*Math.floor(o/2),n[o]=n[o].concat(t),r.push(t.length?t.length:0),s.push(t.weight?t.weight:0)})),L(Math.max.apply(Math,r)),K(Math.max.apply(Math,s)),J(e,w,S),J(a,T,A,X),J(n,P,D,Z)}),[]);var G,J=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n,r){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[],c=[],Object.entries(t).map((function(e){c.push(e[0]),s.push(e[1].length)})),n(Object(p.a)(Object(p.a)({},a),{},{labels:r||c,datasets:[{label:"Fish caught",data:s,backgroundColor:["rgb(255, 99, 132, 0.8)","rgb(54, 162, 235, 0.8)","rgb(255, 206, 86, 0.8)","rgb(75, 192, 192, 0.8)","rgb(153, 102, 255, 0.8)","rgb(255, 159, 64, 0.8)"],hoverOffset:4}]}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{style:{width:"80%"},children:Object(E.jsxs)(Y.a,{expanded:"panel1"===x,onChange:(G="panel1",function(e,t){g(!!t&&G)}),children:[Object(E.jsx)(z.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header",style:{display:"block",flexGrow:0},children:Object(E.jsx)(k.a,{style:{display:"block",flexGrow:0,textAlign:"center",paddingTop:"13px",fontWeight:500},className:f.heading,children:c})}),Object(E.jsxs)(q.a,{className:f.root,children:[Object(E.jsxs)("div",{className:"fish-stats-summary",children:["Total","   ",Object(E.jsx)("span",{style:{color:"#38A700"},children:t.length}),Object(E.jsx)("br",{}),"Longest","   ",Object(E.jsxs)("span",{style:{color:"rgb(54, 162, 235)"},children:[H,'"']}),Object(E.jsx)("br",{}),"Heaviest","   ",Object(E.jsxs)("span",{style:{color:"rgb(54, 162, 235)"},children:[W," lbs"]})]}),Object(E.jsx)("div",{className:"fish-stat-chart-wrapper",children:Object(E.jsx)(V.b,{options:{plugins:{legend:{display:!1},title:{display:!0,text:"Bait Types"}}},data:w})}),Object(E.jsx)("div",{className:"fish-stat-chart-wrapper",children:Object(E.jsx)(V.c,{options:{elements:{point:{radius:2},line:{borderWidth:1,tension:.5}},scales:{y:{display:!1,grid:{display:!1}},x:{grid:{display:!1}}},plugins:{legend:{display:!1},title:{display:!0,text:"Count by Month"}}},data:T})}),Object(E.jsx)("div",{className:"fish-stat-chart-wrapper",children:Object(E.jsx)(V.a,{options:{scales:{y:{display:!1,grid:{display:!1}},x:{grid:{display:!1}}},plugins:{legend:{display:!1},title:{display:!0,text:"Fish by Hour"}}},data:P})})]})]})})},ee=function(e){var t=e.fish,a=Object(n.useState)({}),r=Object(b.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)({}),u=Object(b.a)(i,2),d=u[0],j=u[1];Object(n.useEffect)((function(){var e={};Object(_.a)(new Set(t.map((function(e){return e.species})))).map((function(t){return e[t]=[]})),t.map((function(t){e[t.species]=e[t.species].concat(t)})),c(e),h(e)}),[]);var h=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=[],Object.entries(t).map((function(e){n.push(e[0]),a.push(e[1].length)})),console.log(a,n),j(Object(p.a)(Object(p.a)({},j),{},{labels:n,datasets:[{label:"Fish Caught by Species",data:a,backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 206, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(255, 159, 64)"],hoverOffset:4}],options:{legend:{display:!1},title:{text:"Bait Types"}}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"user-overview-charts-wrapper",children:Object(E.jsx)("div",{className:"fish-by-species-wrapper",children:Object(E.jsx)(V.b,{data:d,options:{legend:{display:!1}}})})}),Object(E.jsx)("div",{style:{marginTop:30,display:"flex",alignItems:"center",flexDirection:"column"},children:Object.keys(s).map((function(e){return Object(E.jsx)($,{fish:s[e]})}))})]})},te=a(381),ae=a(385),ne=a(378),re=a(4),se=a(383),ce=Object(C.a)((function(e){return{large:{width:e.spacing(7),height:e.spacing(7),marginLeft:"20px"}}})),ie=function(e){var t=e.createFish,a=Object(n.useState)({species:"",location:"",length:"",weight:"",baitType:"",temperature:"",image:""}),r=Object(b.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)(""),d=Object(b.a)(i,2),j=d[0],h=d[1],f=ce(),m=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;c((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},a,n))}))},O=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return a=URL.createObjectURL(t),h(a),console.log(t,"here with image"),e.next=6,W(t);case 6:n=e.sent,r=n.location.toString(),c((function(e){return Object(p.a)(Object(p.a)({},e),{},{image:r})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s),c({species:"",location:"",length:"",weight:"",baitType:"",temperature:"",image:""})},className:"fish-form",children:[Object(E.jsxs)("div",{className:"species-image-wrapper",children:[Object(E.jsxs)("label",{className:"fish-form-label",children:["Species",Object(E.jsx)("input",{className:"fish-input",value:s.species,name:"species",onChange:m,placeholder:"fish species"})]}),Object(E.jsxs)("label",{className:"fish-form-label fish-image-label",children:[Object(E.jsxs)("div",{children:["Image",Object(E.jsx)("br",{}),Object(E.jsx)("div",{className:"fish-form-image-subtext",children:"Add an image"})]}),Object(E.jsx)("input",{className:"fish-image-input",onChange:function(e){return O(e.target.files[0])},type:"file",accept:"image/*"}),Object(E.jsx)(T.a,{src:j,className:f.large})]})]}),Object(E.jsxs)("label",{className:"fish-form-label",children:["Location",Object(E.jsx)("input",{className:"fish-input",value:s.location,name:"location",onChange:m,placeholder:"where was the fish caught?"})]}),Object(E.jsxs)("label",{className:"fish-form-label",children:["Length",Object(E.jsx)("input",{className:"fish-input",value:s.length,name:"length",onChange:m,placeholder:"length in inches"})]}),Object(E.jsxs)("label",{className:"fish-form-label",children:["Weight",Object(E.jsx)("input",{className:"fish-input",value:s.weight,name:"weight",onChange:m,placeholder:"weight in lbs."})]}),Object(E.jsxs)("label",{className:"fish-form-label",children:["Bait",Object(E.jsx)("input",{className:"fish-input",value:s.baitType,name:"baitType",onChange:m,placeholder:"e.g. Rapala"})]}),Object(E.jsxs)("label",{className:"fish-form-label",children:["Temperature",Object(E.jsx)("input",{className:"fish-input",value:s.temperature,name:"temperature",onChange:m,placeholder:"Temp in fahrenheit"})]}),Object(E.jsx)("button",{type:"submit",className:"submit-fish-button",children:"save"})]})},le=Object(C.a)((function(e){return{small:{width:e.spacing(3),height:e.spacing(3)}}})),oe=function(e){var t,a=e.currentUser,s=e.handleLogout,c=e.addFish,i=e.toggleDrawer,l=e.drawerState,o=Object(n.useState)(null),p=Object(b.a)(o,2),d=p[0],j=p[1],h=function(){j(null)},f=le();return Object(E.jsxs)("div",{className:"navbar",children:[Object(E.jsx)("div",{className:"navbar-nav",children:Object(E.jsx)("div",{className:"display-fish-form",children:Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)(ne.a,{onClick:i("bottom",!0),children:Object(E.jsx)("i",{className:"far fa-plus-square fa-lg"})}),Object(E.jsx)(se.a,{anchor:"bottom",open:l.bottom,onClose:i("bottom",!1),children:(t="bottom",Object(E.jsx)("div",{className:Object(re.a)(f.list,Object(u.a)({},f.fullList,"top"===t||"bottom"===t)),role:"presentation",children:Object(E.jsx)(ie,{createFish:c})}))})]})})}),Object(E.jsx)("div",{className:"nav-avatar",children:Object(E.jsx)(T.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},alt:a.username,src:a.image?a.image:"https://images.unsplash.com/photo-1532015917327-c7c46aa1d930?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1036&q=80",className:f.small,cursor:"pointer"})}),Object(E.jsxs)(te.a,{id:"simple-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:h,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(E.jsx)(ae.a,{onClick:h,children:Object(E.jsx)(P.b,{to:"/",children:"Profile"})}),Object(E.jsx)(ae.a,{onClick:h,children:Object(E.jsx)(P.b,{to:"/fish",children:"Feed"})}),Object(E.jsx)(ae.a,{onClick:h,children:Object(E.jsx)(P.b,{to:"/user/"+a.id+"/stats",children:"Stats"})}),Object(E.jsxs)(ae.a,{onClick:s,children:[" ",Object(E.jsx)(P.b,{to:"/",onClick:s,children:"Logout"})]})]})]})},ue=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=(t[0],t[1],Object(n.useState)("")),r=Object(b.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)(""),j=Object(b.a)(i,2),h=j[0],m=j[1],x=Object(n.useState)(""),g=Object(b.a)(x,2),y=g[0],w=g[1],S=Object(n.useState)(""),N=Object(b.a)(S,2),C=N[0],k=N[1],T=Object(n.useState)(null),A=Object(b.a)(T,2),F=A[0],P=A[1],D=Object(n.useState)([]),_=Object(b.a)(D,2),H=_[0],L=(_[1],Object(n.useState)([])),B=Object(b.a)(L,2),M=B[0],W=B[1],K=Object(n.useState)({top:!1,left:!1,bottom:!1,right:!1}),G=Object(b.a)(K,2),V=G[0],Y=G[1];Object(n.useEffect)((function(){var e=window.localStorage.getItem("currentUser");if(e){var t=JSON.parse(e);P(t),k(t.id),v.setToken(t.token),v.getUsersFish(t.id).then((function(e){W(e)}))}}),[]);var q=function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("login time"),e.prev=2,e.next=5,f.login({username:s,password:y});case 5:a=e.sent,window.localStorage.setItem("currentUser",JSON.stringify(a)),v.setToken(a.token),P(a),k(a.id),c(""),w(""),m(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log("wrong credentials");case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,console.log("SGINING"),e.next=5,O.signup({username:s,password:y,email:h});case 5:q(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("unable to sign up");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Logout"),window.localStorage.removeItem("currentUser"),P(null),k(""),c(""),w(""),m("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[F?Object(E.jsx)(oe,{currentUser:F,handleLogout:Q,addFish:function(e){v.create(e).then((function(e){W(M.concat(e))})),Y("bottom",!1)},toggleDrawer:function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&Y(Object(p.a)(Object(p.a)({},V),{},Object(u.a)({},e,t)))}},drawerState:V}):null,Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.b,{path:"/fish",children:H.map((function(e){return Object(E.jsx)(U,{fish:e})}))}),Object(E.jsx)(d.b,{path:"/user/:id/stats",children:Object(E.jsx)(ee,{fish:M})}),Object(E.jsx)(d.b,{path:"/user/:id",children:Object(E.jsx)(J,{user:F||null,fish:M})}),Object(E.jsx)(d.b,{path:"/signup",children:F?Object(E.jsx)(d.a,{to:"/user/"+C}):Object(E.jsx)(R,{username:s,password:y,email:h,handleUsernameChange:function(e){var t=e.target;return c(t.value)},handlePasswordChange:function(e){var t=e.target;return w(t.value)},handleEmailChange:function(e){var t=e.target;return m(t.value)},handleSubmit:z})}),Object(E.jsx)(d.b,{path:"/",children:F?Object(E.jsx)(d.a,{to:"/user/"+C}):Object(E.jsx)(I,{username:s,password:y,handleUsernameChange:function(e){var t=e.target;return c(t.value)},handlePasswordChange:function(e){var t=e.target;return w(t.value)},handleSubmit:q})})]})]})},pe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,389)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(E.jsx)(P.a,{children:Object(E.jsx)(ue,{})}),document.getElementById("root")),pe()}},[[328,1,2]]]);
//# sourceMappingURL=main.61eadfcc.chunk.js.map